---
layout : single
title : "네트워크_계층"
author : 
name : 이준성
categories : 어려운_개념_다시_정리해_보기
tags : computer_science
toc : true
author_profile : false
sidebar:
    nav : "docs"

---



# 정의
 ![TCP/IP4계층](/assets/images/TCP_IP_4계층.png) 


 > OSI 7 계층의 3번째 계층이며 데이터를 목적지까지 최적의 경로로 전달하기 위한 계층.<br>
 > 목적지에 도달하기 위한 경로를 선택하고 경로에 따라 패킷을 전달하는 것.<BR> 
 > 목적지까지 향하는 논리적 전달이 사용됨<br>
 > 주요 개념 : 라우팅, 흐름 제어, 오류 제어, 이터네트워킹이 있다.<br>

<br>
<br>




<span style = "background-color : red; border : 1px solid #777;font-size : 20pt;">
네트워크 계층, 전송 계층은 TCP/IP 계층에서 제일 중요한 위치

</span>



# ip의 개념과 특징

### IP란?

 > 인터넷 프로토콜(IP, Internet protocol)은 송신, 수신 간의 규악을 정한 것<br>
 > 네트워크 계층에서 호스트의 주소 지정과 패킷 분할 및 조립 기능을 담당한다.<br>
 > IP의 정보는 패킷 혹은 뎅터그램이라고 하는 덩어리로 나뉘어 전송된다.<br>

#### IP의 특징

1. 비신뢰성
   -> 흐름에 관여하지 않기 때문에 보낸 정보가 제대로 갔는지 보장하지 않는다. 보장 받기 위해선 ip의 상위 프로토콜인 TCP를 사용해야 한다.
2. 비연결성
   -> 송신자와 수신자가 데이터 전송을 위해 서로 연결될 필요가 없다.(UDP 전송 방식)

##### 종류
1. 고정 IP
 > 컴퓨터가 고정적으로 가지고 있는 IP<BR>
 > 한 번 할당 받으면 반환 전까지 변하지 않음<BR>
 > 주로 서버 등을 운영할 때 사용함.<BR>

2. 유동 IP
 > IP 갱신 주기가 되었을 때 ISP로부터 할당 받은 IP<BR>
 > 사용되지 않는 IP는 자동으로 수거된다.

3. 공인 IP
> 외부에 공개된 IP<BR>
> 해킹의 위험이 있다.   

4. 사설 IP
 > 외부에서 접근할 수 없는 IP<BR>
 > 가정, 인트라넷(좁은 범위의 연결망)에서 주로 사용됨.<BR>
 > => 127.0.0.1 OR 192.168.XXX.XXX 이런 느낌<BR>
 > 공인 IP가 할당된 라우터나 공유기를 통해 사설 IP가 할당됨.

!["이미지 테스트"](/assets/images/ip_protocol.png)








## IP 주소 버전

<span style = "background-color : white; color : black; border : 1px solid #777;font-size : 20pt;">
IP 주소는 버전에 따라 나눠지며 현재 가장 많이 사용되는 버전은 IPV4와 IPV6이다. 

</span>

### IPV4

 > 인터넷 프로토콜(통신 규약)의 네 번째 판이다.<BR>
 > => ES6 처럼 규약이 만들어진 것.  <BR>
 > 32비트의 주소 공간을 가진다. (8 비트 묶음 4개)<BR>
 > <BR>
 > 유니캐스트, 멀티캐슽, 브로드캐스트<BR>
 > <BR>
 > ex : 127.0.0.1<BR>
 > 8bit : 2의 8 제곱<BR>

#### 할당 방식
기본적으로 STATIC 방식과 DHCP 방식으로 나뉜다.

1. STATIC 방식
 > 사용하고 싶은 IP를 직접 입력해서 할당 받는 식이며 DHCP에 비해 편리하다.<BR>
 > 필요 정보<BR>
 > 1. 자신이 사용할 수 있는 IP<BR>
 > 2. 자신의 네트워크의 서브넷마스크<BR>
 > 3. 게이트웨이<BR>
 > 4. DNS 주소
 
2. DHCP(Dynamic Host Configuration Protocol) 방식
 > IP 임대 방식<br>
 > 새 장비를 네트워크에 연결하거나 기존 장치의 IP 주소를 변경할 때 사용함.<BR>
 > 장치가 DHCP 서버에 요청을 보내면 모든 장비에 브로드캐스팅 되고 그 가운데 맞는 컴퓨터가 IP를 얻는다.

### IPV6

> 인터넷 프로토콜의 여섯 번째 판.<BR>
> 사용자의 확장으로 IPV4 만으로는 한계가 찾아올 것으로 예상되어 만들어진 차세대 프로토콜<br>
> <br>
> 유니캐스트, 멀티캐스트, 애니캐스트<br>
> <br>
> 기존 IPV4가 32 비트의 공간을 가지는 데 반해 128 비트를 가진다.<br>
> => (16비트 묶음 8개)<br>
> ex : ffa0:b3c1:1234:5678:9abc:def0:eea1:abcd<br>
> => 0으로만 구성된 마지막 4그룹은 생략 가능


### IPV4가 다 할당되었는데 어떻게 우린 쓰고 있는 것인가?

#### private network(사설망)의 등장

![사설망](/assets/images/사설망.png)
사설망 또는 개인 네트워크는 사설 IP 주소 공간(일종의 인트라넷)을 이용하는 네트워크<br>
라우터나 공유기 등이 할당해준다.




#### NAT(Network Adress Translation) 

 >IPV4의 고갈 문제를 해결하기 위해 등장함<BR>
 > 출발지 및 목적지 IP 주소와 TCP/UDP 포트 번호 등을 바꿔 재기록하며 데이터를 주고 받는 방법<BR>
 > 공인 IP에서 사설 IP로 이동한다. 

 ![NAT](/assets/images/Nat.png)


## 라우팅 

> 전송 측에서 목적지까지 데이터 패킷이 거쳐가는 최적의 경로를 선택하여 배정하는 기능


1. 정적 라우팅 기법
  입력된 라우팅 정보가 재입력되기 전까지는 이전의 값이 유지되며 라우팅 정보를 네트워크 관리자가 수동으로 입력함.<BR><BR>
  > 장점
  1. 슈동으로 설정하기에 CPU에 오버헤드가 없어진다.<br>
  2. 네트워크 관리자가 모두 제어하기에 보안상 유리하다.<br
  > 단점
  1. 네트워크 규모가 커질 수록 네트워크 관리자의 작업량이 많아짐.<br>
  2. 휴먼 에러<br>
  3. 네트워크 구성 변경에 따라 end to end 트래픽이 라우팅 되지 않을 때(연결되지 않을 때) 백업 구성이 되지 않아 재설정 전까지 사용 불가.<br>
1. 동적 라우팅 기법
   라우팅 정보를 다른 인접한 라우터들과 교환하여 라우팅 테이블을 자동으로 작성하는 기법
   <BR><BR>
   > 장점
   1. 네트워크 관리자가 편하다.<br>
   2. 네트워크 구성과 사황에 맞게 최적의 경로를 설정 가능<br>
   3. end to end 경로 손실이 발새해도 백업 경로가 있어 정적 라우팅보단 오류 등에 강하다.<br>
   > 단점<br>
   1. 경유하는 장비가 많기 때문에 정적 라우팅보다 대역폭 소비가 크다.<br><br>
   라우팅 프로토콜<br>
   > 1. RIP : 가장 간단한 프로토콜, 홉(각 연결점 중간의 연결다리) 경로와 수를 저장함. 소규모 네트워크에 사용됨.<br>
   > 2. OSPF : 링크 상태 기반으로 경로 계산, RIP에 비해 경로가 바뀌어도 수정 가능. 대규모 네트워크에 적합<br>
   > 3. BGP : 인터넷과 같은 거대한 네트워크 간 라우팅에 사용<br>
   
2. 디폴트 라우팅 기법<BR><BR>
   디폴트 라우터를 설정하여 라우티 테이블에 등록되어 있지 않은 주소를 갖는 패킷들을 디폴트로 지정된 경로로 전송되도록 하는 기법(브로드캐스팅)<BR><BR>

#### 통신 방식

|이름|방식|
|---|---|
|브로드캐스트|도메인 내 모든 PC들에게 한 번씩 전송하는 방식|
|유니캐스트|1:1 통신 방식(P2P)|
|멀티캐스트|1:N 통신 방식|
|애니캐스트|브로드캐스트처럼 IP를 전역에 뿌린 뒤 그 IP에 가장 가까운(일치하는) IP주소 값을 가져오는 방식|

라우팅 테이블
컴퓨터 네트워크에서 목적지 주소를 목적지에 전달하기 위한 네트워크 노선으로 변환시키는 목적으로 사용됨. 라우팅 프로토콜의 가장 중요한 목적이 이런 라우팅 테이블의 구성

네트워크 캐스팅
- 패킷 스위칭 기술을 이용한 컴퓨터 네트워크의 라우팅 기술에 대해 기술함.
- 


# 주요 도구

### 라우터

> 라우팅 기능을 수행하는 장치. 라우팅 정보를 참조하여 경로를 설정하고 데이터 패킷을 중계함.

# 참조 링크
[IP 주소에 대한 것](https://hojunking.tistory.com/114)<BR>
[DHCP](https://fiberroad.com/ko/resources/glossary/what-is-dhcp/)<br>
